# Server Configuration
PORT=5001
NODE_ENV=production

# Database — on Railway, add a PostgreSQL plugin and copy the DATABASE_URL it generates.
# Example: postgresql://postgres:<password>@<host>.railway.internal:5432/railway
DATABASE_URL=postgresql://postgres:password@localhost:5432/tec_db

# JWT Configuration (REQUIRED — generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))")
JWT_SECRET=
JWT_REFRESH_SECRET=
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# Access token expiry (overrides JWT_EXPIRES_IN when set; supports ms notation e.g. 1h, 900s, 3600)
TOKEN_EXPIRY=1h

# CORS — set to your gateway or frontend URL, or * to allow all origins
# ALLOWED_ORIGINS takes priority and supports comma-separated values
ALLOWED_ORIGINS=https://tec-core-backend-pi.up.railway.app
CORS_ORIGIN=https://tec-core-backend-pi.up.railway.app

# Rate limiting for /auth endpoints
# RATE_LIMIT_WINDOW — window duration in milliseconds (default: 60000 = 1 minute)
RATE_LIMIT_WINDOW=60000
# RATE_LIMIT_MAX — maximum requests per window per IP (default: 20)
RATE_LIMIT_MAX=20
# REDIS_URL — when set, the rate limiter uses Redis for distributed multi-instance support.
# Leave blank to use the default in-memory store (single-instance only).
# Example: redis://default:<password>@<host>:6379
REDIS_URL=

# Logging (error, warn, info, debug)
LOG_LEVEL=info

# PI Network API key (https://developers.minepi.com)
PI_API_KEY=

# Service name — included as a label in all structured log lines and metrics.
SERVICE_NAME=auth-service

# Sentry DSN — leave blank to disable error tracking (disabled automatically in development/test).
# Obtain from https://sentry.io → your project → Settings → Client Keys (DSN).
SENTRY_DSN=

# Service version (optional, shown in /health response)
SERVICE_VERSION=1.0.0
